apiVersion: v1
kind: Secret
metadata:
  name: {{ template "fullname" . }}
  labels:
    app: {{ template "fullname" . }}
    chart: "{{ .Chart.Name }}-{{ .Chart.Version }}"
    release: "{{ .Release.Name }}"
    heritage: "{{ .Release.Service }}"
type: Opaque
data:
  SECRET_KEY: {{ required "Missing secreteKey" .Values.config.secretKey | b64enc | quote }}

  DB_USER: {{ required "Missing dbUser" .Values.config.dbUser | b64enc | quote }}
  DB_PASSWORD: {{ required "Missing dbPassword" .Values.config.dbPassword | b64enc | quote }}

  GOOGLE_OAUTH2_KEY: {{ required "Missing socialAuthKey" .Values.config.socialAuthKey | b64enc | quote }}
  GOOGLE_OAUTH2_SECRET: {{/**/}}
    {{- required "Missing socialAuthSecrete" .Values.config.socialAuthSecrete | b64enc | quote }}

  LATTICE_USER: {{ required "Missing latticeUser" .Values.config.latticeUser | b64enc | quote }}
  LATTICE_PASSWORD: {{ required "Missing latticePassword" .Values.config.latticePassword | b64enc | quote }}

  AWS_SECRETE: {{ required "Missing awsSecrete" .Values.config.awsSecrete | b64enc | quote }}
  AWS_KEY: {{ required "Missing awsKey" .Values.config.awsKey | b64enc | quote }}

  SENTRY_DSN: {{ required "Missing sentryDSN" .Values.config.sentryDSN | b64enc | quote }}
